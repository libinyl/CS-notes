## I/O

## 关于mode

- 凡是带`+`的,都可读且可写.
- 当 mode 为`w`开头时,`fseek`对`fwrite`无效.只有在`r+`时才有效.

## IO模型的推演:

## 关于同步,异步,阻塞,非阻塞

读写数据的两个步骤: 1. 准备数据 2.复制数据(内核<->用户)

阻塞与非阻塞的区别

- 阻塞式 IO: 发起读操作时,如果内核还没准备好数据,不返回.直到准备好且复制数据完毕才返回.
- 非阻塞式 IO: 发起读操作时,如果内核还没准备好数据,立刻返回.

- 同步 IO: 流程是线性的,不需回调.一般单进程 IO 都是同步的.
- 异步: 往往需要 1)注册回调函数 2)发起操作并立即返回,执行其他操作 3)接收者收到操作指令后开始进行操作,结束后调用回调函数.